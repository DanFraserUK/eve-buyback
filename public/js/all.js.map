{"version":3,"sources":["string-format.js","manage-motd.js","manage-items.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"all.js","sourcesContent":["$(document).ready(function() {\n\tif (!String.prototype.format) {\n\t\tString.prototype.format = function() {\n\t\t\tvar args = arguments;\n\n\t\t\treturn this.replace(/{(\\d+)}/g, function(match, number) {\n\t\t\t\treturn typeof args[number] != 'undefined' ? args[number] : match;\n\t\t\t});\n\t\t};\n\t}\n});\n","$(\"#manage-form-motd\").submit(function () {\n\tvar button = $(\"#manage-form-motd #submit\");\n\n\tbutton.attr(\"disabled\", true);\n\n\t$.post($(this).attr(\"action\"), $(this).serialize(), function(response) {\n\t\tbutton.attr(\"disabled\", false);\n\n\t\tif (response.result == true) {\n\t\t\t$.notify(response.message, {\n\t\t\t\tclassName: \"success\",\n\t\t\t});\n\t\t} else {\n\t\t\t$.notify(response.message, {\n\t\t\t\tclassName: \"error\",\n\t\t\t});\n\t\t}\n\t});\n\n\treturn false;\n});\n","function initManageItems(args) {\n\tvar table = $('#manage-form-items').DataTable({\n\t\tdom: \"lBfrtip\",\n\t\tajax: args.get,\n\t\tsAjaxDataProp: \"\",\n\t\tcolumns: [\n\t\t\t{\n\t\t\t\tdata: null,\n\t\t\t\tdefaultContent: '',\n\t\t\t\tclassName: 'select-checkbox',\n\t\t\t\torderable: false,\n\t\t\t},\n\t\t\t{\n\t\t\t\tdata: \"type.typeName\",\n\t\t\t\trender: function (data, type, row, meta) {\n\t\t\t\t\tif (type != \"display\") { return data; }\n\n\t\t\t\t\treturn '<img src=\"https://image.eveonline.com/Type/'+row.typeID+'_32.png\"> '+data;\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tdata: \"type.group.groupName\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tdata: \"type.group.category.categoryName\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tdata: \"buyRaw\",\n\t\t\t\trender: function (data, type, row, meta) {\n\t\t\t\t\tif (type != \"display\") { return data; }\n\n\t\t\t\t\treturn data == true\n\t\t\t\t\t\t? '<span class=\"fa fa-fw fa-check-square-o\"></span>'\n\t\t\t\t\t\t: '<span class=\"fa fa-fw fa-square-o\"></span>';\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tdata: \"buyRecycled\",\n\t\t\t\trender: function (data, type, row, meta) {\n\t\t\t\t\tif (type != \"display\") { return data; }\n\n\t\t\t\t\treturn data == true\n\t\t\t\t\t\t? '<span class=\"fa fa-fw fa-check-square-o\"></span>'\n\t\t\t\t\t\t: '<span class=\"fa fa-fw fa-square-o\"></span>';\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tdata: \"buyRefined\",\n\t\t\t\trender: function (data, type, row, meta) {\n\t\t\t\t\tif (type != \"display\") { return data; }\n\n\t\t\t\t\treturn data == true\n\t\t\t\t\t\t? '<span class=\"fa fa-fw fa-check-square-o\"></span>'\n\t\t\t\t\t\t: '<span class=\"fa fa-fw fa-square-o\"></span>';\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tdata: \"buyModifier\",\n\t\t\t\trender: function (data, type, row, meta) {\n\t\t\t\t\tif (type != \"display\") { return data; }\n\n\t\t\t\t\treturn data.toFixed(2);\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tdata: \"buyPrice\",\n\t\t\t\trender: function (data, type, row, meta) {\n\t\t\t\t\tif (type != \"display\") { return data; }\n\n\t\t\t\t\treturn data.toFixed(2).replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, \"$1,\")+' ISK';\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tdata: \"sell\",\n\t\t\t\trender: function (data, type, row, meta) {\n\t\t\t\t\tif (type != \"display\") { return data; }\n\n\t\t\t\t\treturn data == true\n\t\t\t\t\t\t? '<span class=\"fa fa-fw fa-check-square-o\"></span>'\n\t\t\t\t\t\t: '<span class=\"fa fa-fw fa-square-o\"></span>';\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tdata: \"sellModifier\",\n\t\t\t\trender: function (data, type, row, meta) {\n\t\t\t\t\tif (type != \"display\") { return data; }\n\n\t\t\t\t\treturn data.toFixed(2);\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tdata: \"sellPrice\",\n\t\t\t\trender: function (data, type, row, meta) {\n\t\t\t\t\tif (type != \"display\") { return data; }\n\n\t\t\t\t\treturn data.toFixed(2).replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, \"$1,\")+' ISK';\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tdata: \"lockPrices\",\n\t\t\t\trender: function (data, type, row, meta) {\n\t\t\t\t\tif (type != \"display\") { return data; }\n\n\t\t\t\t\treturn data == true\n\t\t\t\t\t\t? '<span class=\"fa fa-fw fa-check-square-o\"></span>'\n\t\t\t\t\t\t: '<span class=\"fa fa-fw fa-square-o\"></span>';\n\t\t\t\t},\n\t\t\t},\n\t\t],\n\t\tselect: {\n\t\t\tstyle:    \"multi\",\n\t\t\tselector: \"td:first-child\",\n\t\t},\n\t\tbuttons: [\n\t\t\t\"selectAll\",\n\t\t\t\"selectNone\",\n\t\t\t{\n\t\t\t\ttext: args.trans.buyback.config.items.add,\n\t\t\t\taction: function (e, dt, node, config) {\n\t\t\t\t\tdt.ajax.reload();\n\t\t\t\t},\n\t\t\t\tenabled: true,\n\t\t\t},\n\t\t\t{\n\t\t\t\ttext: args.trans.buyback.config.items.edit,\n\t\t\t\taction: function (e, dt, node, config) {\n\t\t\t\t\tvar data  = table.rows('.selected').data();\n\t\t\t\t\tvar types = \"\";\n\n\t\t\t\t\t$.each(data, function (index, item) {\n\t\t\t\t\t\ttypes += item.typeID + \",\";\n\t\t\t\t\t}); types  = types.substr(0, types.length - 1);\n\n\t\t\t\t\tvar title = data.count() == 1\n\t\t\t\t\t\t? args.trans.buyback.config.items.update_item_1\n\t\t\t\t\t\t: args.trans.buyback.config.items.update_item_2;\n\n\t\t\t\t\tvar form = ''\n\t\t\t\t\t\t+ '<div class=\"row\">'\n\t\t\t\t\t\t+ '\t<div class=\"col-md-12\">'\n\t\t\t\t\t\t+ '\t\t<form id=\"manage-form-update-items\" class=\"form-horizontal\" action=\"'+args.post+'\" method=\"POST\">'\n\t\t\t\t\t\t+ '\t\t\t<input type=\"hidden\" name=\"_token\" value=\"'+args.token+'\">'\n\t\t\t\t\t\t+ '\t\t\t<input type=\"hidden\" name=\"items\" value=\"'+(types)+'\">'\n\t\t\t\t\t\t+ '\t\t\t<div class=\"form-group\">'\n\t\t\t\t\t\t+ '\t\t\t\t<label class=\"col-md-4 control-label\">'+args.trans.buyback.config.items.buy_settings+'</label>'\n\t\t\t\t\t\t+ '\t\t\t\t<div class=\"col-md-8\">'\n\t\t\t\t\t\t+ '\t\t\t\t\t<div class=\"checkbox\"><label><input type=\"checkbox\" name=\"buyRaw\"     '+(data[0].buyRaw      ? ' checked' : '')+'>'+(data.count() == 1 ? args.trans.buyback.config.items.buy_raw_help_1      : args.trans.buyback.config.items.buy_raw_help_2     )+'</label></div>'\n\t\t\t\t\t\t+ '\t\t\t\t\t<div class=\"checkbox\"><label><input type=\"checkbox\" name=\"buyRecycled\"'+(data[0].buyRecycled ? ' checked' : '')+'>'+(data.count() == 1 ? args.trans.buyback.config.items.buy_recycled_help_1 : args.trans.buyback.config.items.buy_recycled_help_2)+'</label></div>'\n\t\t\t\t\t\t+ '\t\t\t\t\t<div class=\"checkbox\"><label><input type=\"checkbox\" name=\"buyRefined\" '+(data[0].buyRefined  ? ' checked' : '')+'>'+(data.count() == 1 ? args.trans.buyback.config.items.buy_refined_help_1  : args.trans.buyback.config.items.buy_refined_help_2 )+'</label></div>'\n\t\t\t\t\t\t+ '\t\t\t\t</div>'\n\t\t\t\t\t\t+ '\t\t\t</div>'\n\t\t\t\t\t\t+ '\t\t\t<div class=\"form-group\">'\n\t\t\t\t\t\t+ '\t\t\t\t<label class=\"col-md-4 control-label\">'+args.trans.buyback.config.items.buy_modifier+'</label>'\n\t\t\t\t\t\t+ '\t\t\t\t<div class=\"col-md-8\">'\n\t\t\t\t\t\t+ '\t\t\t\t\t<input class=\"form-control\" type=\"number\" name=\"buyModifier\" min=\"0\" step=\"0.01\" value=\"'+(data[0].buyModifier)+'\">'\n\t\t\t\t\t\t+ '\t\t\t\t</div>'\n\t\t\t\t\t\t+ '\t\t\t</div>'\n\t\t\t\t\t\t+ (data.count() == 1 ?\n\t\t\t\t\t\t  '\t\t\t<div class=\"form-group\">'\n\t\t\t\t\t\t+ '\t\t\t\t<label class=\"col-md-4 control-label\">'+args.trans.buyback.config.items.buy_price+'</label>'\n\t\t\t\t\t\t+ '\t\t\t\t<div class=\"col-md-8\">'\n\t\t\t\t\t\t+ '\t\t\t\t\t<input class=\"form-control\" type=\"number\" name=\"buyPrice\" min=\"0\" value=\"'+(data[0].buyPrice)+'\">'\n\t\t\t\t\t\t+ '\t\t\t\t</div>'\n\t\t\t\t\t\t+ '\t\t\t</div>' : '')\n\t\t\t\t\t\t+ '\t\t\t<div class=\"form-group\">'\n\t\t\t\t\t\t+ '\t\t\t\t<label class=\"col-md-4 control-label\">'+args.trans.buyback.config.items.sell_settings+'</label>'\n\t\t\t\t\t\t+ '\t\t\t\t<div class=\"col-md-8\">'\n\t\t\t\t\t\t+ '\t\t\t\t\t<div class=\"checkbox\"><label><input type=\"checkbox\" name=\"sell\"'+(data[0].sell ? ' checked' : '')+'>'+(data.count() == 1 ? args.trans.buyback.config.items.sell_help_1 : args.trans.buyback.config.items.sell_help_2)+'</label></div>'\n\t\t\t\t\t\t+ '\t\t\t\t</div>'\n\t\t\t\t\t\t+ '\t\t\t</div>'\n\t\t\t\t\t\t+ '\t\t\t<div class=\"form-group\">'\n\t\t\t\t\t\t+ '\t\t\t\t<label class=\"col-md-4 control-label\">'+args.trans.buyback.config.items.sell_modifier+'</label>'\n\t\t\t\t\t\t+ '\t\t\t\t<div class=\"col-md-8\">'\n\t\t\t\t\t\t+ '\t\t\t\t\t<input class=\"form-control\" type=\"number\" name=\"sellModifier\" min=\"0\" step=\"0.01\" value=\"'+(data[0].sellModifier)+'\">'\n\t\t\t\t\t\t+ '\t\t\t\t</div>'\n\t\t\t\t\t\t+ '\t\t\t</div>'\n\t\t\t\t\t\t+ (data.count() == 1 ?\n\t\t\t\t\t\t  '\t\t\t<div class=\"form-group\">'\n\t\t\t\t\t\t+ '\t\t\t\t<label class=\"col-md-4 control-label\">'+args.trans.buyback.config.items.sell_price+'</label>'\n\t\t\t\t\t\t+ '\t\t\t\t<div class=\"col-md-8\">'\n\t\t\t\t\t\t+ '\t\t\t\t\t<input class=\"form-control\" type=\"number\" name=\"sellPrice\" min=\"0\" value=\"'+(data[0].sellPrice)+'\">'\n\t\t\t\t\t\t+ '\t\t\t\t</div>'\n\t\t\t\t\t\t+ '\t\t\t</div>' : '')\n\t\t\t\t\t\t+ '\t\t\t<div class=\"form-group\">'\n\t\t\t\t\t\t+ '\t\t\t\t<label class=\"col-md-4 control-label\">'+args.trans.buyback.config.items.item_settings+'</label>'\n\t\t\t\t\t\t+ '\t\t\t\t<div class=\"col-md-8\">'\n\t\t\t\t\t\t+ '\t\t\t\t\t<div class=\"checkbox\"><label><input type=\"checkbox\" name=\"lockPrices\"'+(data[0].lockPrices ? ' checked' : '')+'>'+args.trans.buyback.config.items.lock_prices_help+'</label></div>'\n\t\t\t\t\t\t+ '\t\t\t\t</div>'\n\t\t\t\t\t\t+ '\t\t\t</div>'\n\t\t\t\t\t\t+ '\t\t</form>'\n\t\t\t\t\t\t+ '\t</div>'\n\t\t\t\t\t\t+ '</div>'\n\t\t\t\t\t;\n\n\t\t\t\t\tbootbox.dialog({\n\t\t\t\t\t\tmessage: form,\n\t\t\t\t\t\ttitle: title,\n\t\t\t\t\t\tbuttons: {\n\t\t\t\t\t\t\tcancel: {\n\t\t\t\t\t\t\t\tlabel: args.trans.buyback.config.items.cancel,\n\t\t\t\t\t\t\t\tclassName: \"btn-default\",\n\t\t\t\t\t\t\t\tcallback: function() {\n\t\t\t\t\t\t\t\t\t//dt.ajax.reload();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tupdate: {\n\t\t\t\t\t\t\t\tlabel: args.trans.buyback.config.items.update,\n\t\t\t\t\t\t\t\tclassName: \"btn-success\",\n\t\t\t\t\t\t\t\tcallback: function() {\n\t\t\t\t\t\t\t\t\tvar form   = $(\"#manage-form-update-items\");\n\t\t\t\t\t\t\t\t\tvar action = form.attr(\"action\");\n\n\t\t\t\t\t\t\t\t\t$.post(action, form.serialize(), function(response) {\n\t\t\t\t\t\t\t\t\t\tif (response.result == true) {\n\t\t\t\t\t\t\t\t\t\t\t$.notify(response.message, {className: 'success'});\n\t\t\t\t\t\t\t\t\t\t\tdt.ajax.reload();\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t$.notify(response.message, {className: 'error'});\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\ttext: args.trans.buyback.config.items.remove,\n\t\t\t\taction: function (e, dt, node, config) {\n\t\t\t\t\tvar selectedRows = table.rows({selected: true});\n\n\t\t\t\t\tvar message = selectedRows.count() == 1\n\t\t\t\t\t\t? args.trans.buyback.config.items.confirm_remove_1\n\t\t\t\t\t\t: args.trans.buyback.config.items.confirm_remove_2;\n\n\t\t\t\t\tvar title = selectedRows.count() == 1\n\t\t\t\t\t\t? args.trans.buyback.config.items.remove_item_1\n\t\t\t\t\t\t: args.trans.buyback.config.items.remove_item_2;\n\n\t\t\t\t\tbootbox.dialog({\n\t\t\t\t\t\tmessage: message,\n\t\t\t\t\t\ttitle: title,\n\t\t\t\t\t\tbuttons: {\n\t\t\t\t\t\t\tcancel: {\n\t\t\t\t\t\t\t\tlabel: args.trans.buyback.config.items.cancel,\n\t\t\t\t\t\t\t\tclassName: \"btn-default\",\n\t\t\t\t\t\t\t\tcallback: function() {\n\t\t\t\t\t\t\t\t\t//dt.ajax.reload();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tremove: {\n\t\t\t\t\t\t\t\tlabel: args.trans.buyback.config.items.remove,\n\t\t\t\t\t\t\t\tclassName: \"btn-danger\",\n\t\t\t\t\t\t\t\tcallback: function() {\n\t\t\t\t\t\t\t\t\t//dt.ajax.reload();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t});\n\n\t\t\t\t},\n\t\t\t\tenabled: false,\n\t\t\t},\n\t\t\t{\n\t\t\t\ttext: args.trans.buyback.config.items.update_prices,\n\t\t\t\taction: function (e, dt, node, config) {\n\t\t\t\t\tdt.ajax.reload();\n\t\t\t\t},\n\t\t\t\tenabled: true,\n\t\t\t},\n\t\t],\n\t});\n\n\t$(\".dt-buttons\").addClass   ('btn-group'      );\n\t$(\".dt-button\" ).addClass   ('btn btn-default');\n\t$(\".dt-button\" ).removeClass('dt-button'      );\n\n\tvar tableEventFunction = function (e, dt, type, indexes) {\n\t\tvar selectedRows = table.rows({selected: true}).count();\n\n\t\ttable.button(3).enable(selectedRows >= 1); // Edit\n\t\ttable.button(4).enable(selectedRows >= 1); // Remove\n\t};\n\n\ttable.on(\"select\"  , tableEventFunction);\n\ttable.on(\"deselect\", tableEventFunction);\n\ttable.on(\"draw\"    , tableEventFunction);\n};\n"],"sourceRoot":"/source/"}